{"ast":null,"code":"import React,{Component}from'react';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";class ErrorBoundary extends Component{constructor(props){super(props);this.state={hasError:false};}static getDerivedStateFromError(error){// エラーが発生した場合の状態を更新\nreturn{hasError:true,error};}componentDidCatch(error,errorInfo){// エラーログの出力\nconsole.error('ErrorBoundary caught an error:',error,errorInfo);this.setState({error,errorInfo});// 本番環境ではエラー監視サービスに送信\nif(process.env.NODE_ENV==='production'){// 例: Sentry, LogRocket など\nconsole.error('Production error:',error);}}render(){if(this.state.hasError){// カスタムフォールバックUI\nif(this.props.fallback){return this.props.fallback;}// デフォルトのエラーUI\nreturn/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gray-50 flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"max-w-md w-full bg-white shadow-lg rounded-lg p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"h-6 w-6 text-red-600\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z\"})})}),/*#__PURE__*/_jsx(\"h3\",{className:\"mt-4 text-lg font-medium text-gray-900\",children:\"\\u4E88\\u671F\\u3057\\u306A\\u3044\\u30A8\\u30E9\\u30FC\\u304C\\u767A\\u751F\\u3057\\u307E\\u3057\\u305F\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-2 text-sm text-gray-500\",children:\"\\u7533\\u3057\\u8A33\\u3054\\u3056\\u3044\\u307E\\u305B\\u3093\\u304C\\u3001\\u30A2\\u30D7\\u30EA\\u30B1\\u30FC\\u30B7\\u30E7\\u30F3\\u3067\\u30A8\\u30E9\\u30FC\\u304C\\u767A\\u751F\\u3057\\u307E\\u3057\\u305F\\u3002 \\u30DA\\u30FC\\u30B8\\u3092\\u518D\\u8AAD\\u307F\\u8FBC\\u307F\\u3059\\u308B\\u304B\\u3001\\u3057\\u3070\\u3089\\u304F\\u6642\\u9593\\u3092\\u304A\\u3044\\u3066\\u518D\\u5EA6\\u304A\\u8A66\\u3057\\u304F\\u3060\\u3055\\u3044\\u3002\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-6 space-y-3\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>window.location.reload(),className:\"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500\",children:\"\\u30DA\\u30FC\\u30B8\\u3092\\u518D\\u8AAD\\u307F\\u8FBC\\u307F\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>this.setState({hasError:false}),className:\"w-full flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500\",children:\"\\u518D\\u8A66\\u884C\"})]}),process.env.NODE_ENV==='development'&&this.state.error&&/*#__PURE__*/_jsxs(\"details\",{className:\"mt-4 text-left\",children:[/*#__PURE__*/_jsx(\"summary\",{className:\"text-sm text-gray-600 cursor-pointer\",children:\"\\u30A8\\u30E9\\u30FC\\u8A73\\u7D30\\uFF08\\u958B\\u767A\\u8005\\u5411\\u3051\\uFF09\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-2 p-3 bg-gray-100 rounded text-xs font-mono text-gray-800 overflow-auto\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Error:\"}),\" \",this.state.error.toString()]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"strong\",{children:\"Stack:\"})}),/*#__PURE__*/_jsx(\"pre\",{className:\"whitespace-pre-wrap\",children:this.state.error.stack}),this.state.errorInfo&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"strong\",{children:\"Component Stack:\"})}),/*#__PURE__*/_jsx(\"pre\",{className:\"whitespace-pre-wrap\",children:this.state.errorInfo.componentStack})]})]})]})]})})});}return this.props.children;}}export default ErrorBoundary;","map":{"version":3,"names":["React","Component","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ErrorBoundary","constructor","props","state","hasError","getDerivedStateFromError","error","componentDidCatch","errorInfo","console","setState","process","env","NODE_ENV","render","fallback","className","children","fill","viewBox","stroke","strokeLinecap","strokeLinejoin","strokeWidth","d","onClick","window","location","reload","toString","stack","componentStack"],"sources":["C:/devlop/internet-banking/frontend/src/components/ErrorBoundary.tsx"],"sourcesContent":["import React, { Component, ErrorInfo, ReactNode } from 'react';\n\ninterface Props {\n  children: ReactNode;\n  fallback?: ReactNode;\n}\n\ninterface State {\n  hasError: boolean;\n  error?: Error;\n  errorInfo?: ErrorInfo;\n}\n\nclass ErrorBoundary extends Component<Props, State> {\n  constructor(props: Props) {\n    super(props);\n    this.state = { hasError: false };\n  }\n\n  static getDerivedStateFromError(error: Error): State {\n    // エラーが発生した場合の状態を更新\n    return { hasError: true, error };\n  }\n\n  componentDidCatch(error: Error, errorInfo: ErrorInfo) {\n    // エラーログの出力\n    console.error('ErrorBoundary caught an error:', error, errorInfo);\n    \n    this.setState({\n      error,\n      errorInfo,\n    });\n\n    // 本番環境ではエラー監視サービスに送信\n    if (process.env.NODE_ENV === 'production') {\n      // 例: Sentry, LogRocket など\n      console.error('Production error:', error);\n    }\n  }\n\n  render() {\n    if (this.state.hasError) {\n      // カスタムフォールバックUI\n      if (this.props.fallback) {\n        return this.props.fallback;\n      }\n\n      // デフォルトのエラーUI\n      return (\n        <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\n          <div className=\"max-w-md w-full bg-white shadow-lg rounded-lg p-6\">\n            <div className=\"text-center\">\n              <div className=\"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100\">\n                <svg\n                  className=\"h-6 w-6 text-red-600\"\n                  fill=\"none\"\n                  viewBox=\"0 0 24 24\"\n                  stroke=\"currentColor\"\n                >\n                  <path\n                    strokeLinecap=\"round\"\n                    strokeLinejoin=\"round\"\n                    strokeWidth={2}\n                    d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z\"\n                  />\n                </svg>\n              </div>\n              <h3 className=\"mt-4 text-lg font-medium text-gray-900\">\n                予期しないエラーが発生しました\n              </h3>\n              <p className=\"mt-2 text-sm text-gray-500\">\n                申し訳ございませんが、アプリケーションでエラーが発生しました。\n                ページを再読み込みするか、しばらく時間をおいて再度お試しください。\n              </p>\n              <div className=\"mt-6 space-y-3\">\n                <button\n                  onClick={() => window.location.reload()}\n                  className=\"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500\"\n                >\n                  ページを再読み込み\n                </button>\n                <button\n                  onClick={() => this.setState({ hasError: false })}\n                  className=\"w-full flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500\"\n                >\n                  再試行\n                </button>\n              </div>\n              \n              {/* 開発環境でのみエラー詳細を表示 */}\n              {process.env.NODE_ENV === 'development' && this.state.error && (\n                <details className=\"mt-4 text-left\">\n                  <summary className=\"text-sm text-gray-600 cursor-pointer\">\n                    エラー詳細（開発者向け）\n                  </summary>\n                  <div className=\"mt-2 p-3 bg-gray-100 rounded text-xs font-mono text-gray-800 overflow-auto\">\n                    <div><strong>Error:</strong> {this.state.error.toString()}</div>\n                    <div><strong>Stack:</strong></div>\n                    <pre className=\"whitespace-pre-wrap\">{this.state.error.stack}</pre>\n                    {this.state.errorInfo && (\n                      <>\n                        <div><strong>Component Stack:</strong></div>\n                        <pre className=\"whitespace-pre-wrap\">{this.state.errorInfo.componentStack}</pre>\n                      </>\n                    )}\n                  </div>\n                </details>\n              )}\n            </div>\n          </div>\n        </div>\n      );\n    }\n\n    return this.props.children;\n  }\n}\n\nexport default ErrorBoundary;\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}